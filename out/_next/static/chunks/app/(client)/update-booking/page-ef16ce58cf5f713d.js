(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2366],{6646:function(e,a,t){Promise.resolve().then(t.bind(t,3367))},3367:function(e,a,t){"use strict";var r=t(7437),s=t(2265);a.default=()=>{let e="66f4f0186ceaab1c2c75b783",a=(0,s.useRef)(),[t,l]=(0,s.useState)({fullName:"",email:"",contactNumber:"",nationality:"",passportNumber:"",travelDetails:{tourPackageName:"",departureDate:"",returnDate:"",numberOfAdults:0,numberOfChildren:0},accommodationPreferences:{hotelType:"",roomConfiguration:"",specialRequests:""},transportationPreferences:{flightPreference:"",airportTransfers:!1,specialTransportationRequests:""},emergencyContactInformation:{name:"",relationship:"",contactNumber:""},paymentInformation:{paymentMethod:"",creditCardDetails:"",billingAddress:""},additionalComments:{specificDietary:"",specialRequests:""}}),n=async()=>{try{let a=localStorage.getItem("token"),t=await fetch("".concat("https://jmc-tours-backend.bdcare.vip","/api/v1/bookings/").concat(e),{headers:{authorization:"Bearer ".concat(a)}});if(!t.ok)throw Error("Network response was not ok");let r=await t.json();console.log("fetched Booking data:",r);let s={...r,travelDetails:{...r.travelDetails,departureDate:r.travelDetails.departureDate.split("T")[0],returnDate:r.travelDetails.returnDate.split("T")[0]}};l(s)}catch(e){console.error("Error fetching booking data:",e)}};(0,s.useEffect)(()=>{n()},[e]);let o=e=>{let{name:a,value:t}=e.target;l(e=>({...e,[a]:t}))},d=e=>{let{name:a,value:t}=e.target;l(e=>({...e,travelDetails:{...e.travelDetails,[a]:t}}))},i=e=>{let{name:a,value:t}=e.target;l(e=>({...e,accommodationPreferences:{...e.accommodationPreferences,[a]:t}}))},m=e=>{let{name:a,value:t,type:r,checked:s}=e.target;l(e=>({...e,transportationPreferences:{...e.transportationPreferences,[a]:"checkbox"===r?s:t}}))},c=e=>{let{name:a,value:t}=e.target;l(e=>({...e,emergencyContactInformation:{...e.emergencyContactInformation,[a]:t}}))},u=e=>{let{name:a,value:t}=e.target;l(e=>({...e,paymentInformation:{...e.paymentInformation,[a]:t}}))},h=e=>{let{name:a,value:t}=e.target;l(e=>({...e,additionalComments:{...e.additionalComments,[a]:t}}))},p=async r=>{r.preventDefault();try{let r=localStorage.getItem("token"),s=await fetch("".concat("https://jmc-tours-backend.bdcare.vip","/api/v1/bookings/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(r)},body:JSON.stringify(t)});if(!s.ok)throw Error("Network response was not ok");let l=await s.json();console.log("Booking updated:",l),a.current.reset(),alert("Booking updated. Thank you!"),await n(e)}catch(e){console.error("Error submitting form:",e)}};return(0,r.jsx)("div",{className:"max-w-4xl mx-auto p-8 bg-white",children:(0,r.jsxs)("form",{onSubmit:p,ref:a,className:"grid grid-cols-1 gap-6",children:[(0,r.jsxs)("section",{className:"mb-8",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Personal Information:"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-500",children:["Full Name ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",name:"fullName",value:t.fullName,onChange:o,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"Full Name",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-500",children:["Email Address ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"email",name:"email",value:t.email,onChange:o,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"Email Address",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-500",children:["Contact Number ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"tel",name:"contactNumber",value:t.contactNumber,onChange:o,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"Contact Number",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-500",children:["Nationality ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",name:"nationality",value:t.nationality,onChange:o,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"Nationality",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Passport Number (for international tours)"}),(0,r.jsx)("input",{type:"text",name:"passportNumber",value:t.passportNumber,onChange:o,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"Passport Number (for international tours)"})]})]}),(0,r.jsxs)("section",{className:"mb-8",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Travel Details:"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-500",children:["Tour Package Name ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",name:"tourPackageName",value:t.travelDetails.tourPackageName,onChange:d,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"Tour Package Name",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-500",children:["Departure Date ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"date",name:"departureDate",value:t.travelDetails.departureDate,onChange:d,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-500",children:["Return Date ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"date",name:"returnDate",value:t.travelDetails.returnDate,onChange:d,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-500",children:["Number of Adults ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"number",name:"numberOfAdults",value:t.travelDetails.numberOfAdults,onChange:d,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"Number of Adults",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Number of Children (if applicable)"}),(0,r.jsx)("input",{type:"number",name:"numberOfChildren",value:t.travelDetails.numberOfChildren,onChange:d,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"Number of Children"})]})]}),(0,r.jsxs)("section",{className:"mb-8",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Accommodation Preferences:"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Hotel Type"}),(0,r.jsx)("input",{type:"text",name:"hotelType",value:t.accommodationPreferences.hotelType,onChange:i,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"Hotel Type"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Room Configuration"}),(0,r.jsx)("input",{type:"text",name:"roomConfiguration",value:t.accommodationPreferences.roomConfiguration,onChange:i,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"Room Configuration"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Special Requests"}),(0,r.jsx)("input",{type:"text",name:"specialRequests",value:t.accommodationPreferences.specialRequests,onChange:i,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"Special Requests"})]})]}),(0,r.jsxs)("section",{className:"mb-8",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Transportation Preferences:"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Flight Preference"}),(0,r.jsx)("input",{type:"text",name:"flightPreference",value:t.transportationPreferences.flightPreference,onChange:m,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"Flight Preference"})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("label",{className:"inline-flex items-center mt-3",children:[(0,r.jsx)("input",{type:"checkbox",name:"airportTransfers",checked:t.transportationPreferences.airportTransfers,onChange:m,className:"form-checkbox h-5 w-5 text-gray-600"}),(0,r.jsx)("span",{className:"ml-2 text-gray-700",children:"Airport Transfers"})]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Special Transportation Requests"}),(0,r.jsx)("input",{type:"text",name:"specialTransportationRequests",value:t.transportationPreferences.specialTransportationRequests,onChange:m,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"Special Transportation Requests"})]})]}),(0,r.jsxs)("section",{className:"mb-8",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Emergency Contact Information:"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-500",children:["Name ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",name:"name",value:t.emergencyContactInformation.name,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"Emergency Contact Name",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-500",children:["Relationship ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",name:"relationship",value:t.emergencyContactInformation.relationship,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"Relationship",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-500",children:["Contact Number ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"tel",name:"contactNumber",value:t.emergencyContactInformation.contactNumber,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"Emergency Contact Number",required:!0})]})]}),(0,r.jsxs)("section",{className:"mb-8",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Payment Information:"}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Payment Information:"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-500",children:["Payment Method ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("select",{name:"paymentInformation.paymentMethod",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",onChange:u,required:!0,children:[(0,r.jsx)("option",{value:"Credit Card",children:"Credit Card"}),(0,r.jsx)("option",{value:"PayPal",children:"PayPal"}),(0,r.jsx)("option",{value:"Bank Transfer",children:"Bank Transfer"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Credit Card Details (if applicable)"}),(0,r.jsx)("input",{type:"text",name:"creditCardDetails",value:t.paymentInformation.creditCardDetails,onChange:u,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"Credit Card Details"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Billing Address"}),(0,r.jsx)("input",{type:"text",name:"billingAddress",value:t.paymentInformation.billingAddress,onChange:u,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"Billing Address"})]})]}),(0,r.jsxs)("section",{className:"mb-8",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Additional Comments:"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Specific Dietary Requirements"}),(0,r.jsx)("input",{type:"text",name:"specificDietary",value:t.additionalComments.specificDietary,onChange:h,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"Specific Dietary Requirements"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Special Requests"}),(0,r.jsx)("input",{type:"text",name:"specialRequests",value:t.additionalComments.specialRequests,onChange:h,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"Special Requests"})]})]}),(0,r.jsx)("div",{className:"mt-8",children:(0,r.jsx)("button",{type:"submit",className:"w-full bg-gray-500 text-white py-2 rounded-md hover:bg-gray-900",children:"Update Booking"})})]})})}}},function(e){e.O(0,[2971,7023,1744],function(){return e(e.s=6646)}),_N_E=e.O()}]);