(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8990],{613:function(e,t,o){Promise.resolve().then(o.bind(o,4731))},6463:function(e,t,o){"use strict";var n=o(1169);o.o(n,"usePathname")&&o.d(t,{usePathname:function(){return n.usePathname}}),o.o(n,"useRouter")&&o.d(t,{useRouter:function(){return n.useRouter}})},4731:function(e,t,o){"use strict";o.r(t);var n=o(7437),s=o(8669),a=o(6463),r=o(2265);t.default=()=>{let e=(0,a.useRouter)(),{refetchLocations:t}=(0,s.Z)(),[o,i]=(0,r.useState)({name:"",image:"",description:"",category:"",tourCount:0}),c=async n=>{n.preventDefault();let s=new FormData;s.append("name",o.name),s.append("file",o.image),s.append("description",o.description),s.append("category",o.category),s.append("tourCount",o.tourCount);try{let o=await fetch("".concat("https://jmc-tours-backend.bdcare.vip","/api/v1/locations"),{method:"POST",body:s});if(!o.ok)throw Error("HTTP error! Status: ".concat(o.status));let n=await o.json();console.log("Location added successfully:",n.location),t(),e.replace("/dashboard/all-locations")}catch(e){console.error("Error during form submission:",e)}};return(0,n.jsxs)("div",{className:"max-w-lg mx-auto p-4",children:[(0,n.jsx)("h1",{className:"text-xl font-semibold mb-4",children:"Add New Location"}),(0,n.jsxs)("form",{onSubmit:c,encType:"multipart/form-data",className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,n.jsx)("input",{onChange:e=>i({...o,name:e.target.value}),type:"text",name:"name",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:text-sm"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Image"}),(0,n.jsx)("input",{onChange:e=>i({...o,image:e.target.files[0]}),type:"file",accept:"image/*",className:"mt-1 block w-full",name:"image"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,n.jsx)("textarea",{onChange:e=>i({...o,description:e.target.value}),rows:"4",name:"description",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:text-sm"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),(0,n.jsxs)("select",{onChange:e=>i({...o,category:e.target.value}),name:"category",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:text-sm",children:[(0,n.jsx)("option",{selected:!0,value:"",disabled:!0,children:"Select a category"}),(0,n.jsx)("option",{value:"Wildlife",children:"Wildlife"}),(0,n.jsx)("option",{value:"Adventure",children:"Adventure"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Tour Count"}),(0,n.jsx)("input",{onChange:e=>i({...o,tourCount:e.target.value}),type:"number",name:"tourCount",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:text-sm"})]}),(0,n.jsx)("button",{type:"submit",className:"w-full py-2 px-4 bg-indigo-600 text-white font-semibold rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Submit"})]})]})}},8669:function(e,t,o){"use strict";o.d(t,{t:function(){return a}});var n=o(3191),s=o(5355);async function a(e){try{let t="".concat("https://jmc-tours-backend.bdcare.vip","/api/v1/locations/").concat(e),o=await fetch(t,{method:"DELETE",headers:{"Content-Type":"application/json"}});return console.log("deleteLocation frontend response",o.status),{status:o.status}}catch(e){return console.error("Error:",e.message),{status:404}}}t.Z=()=>{let e=(0,n.NL)(),{isLoading:t,error:o,data:a}=(0,s.a)({queryKey:["locations"],queryFn:()=>fetch("".concat("https://jmc-tours-backend.bdcare.vip","/api/v1/locations")).then(e=>e.json()),staleTime:3e5}),{locations:r,success:i}=a||{};return{isLoading:t,error:o,locations:r,success:i,refetchLocations:()=>{e.invalidateQueries(["locations"])}}}}},function(e){e.O(0,[1336,5355,2971,7023,1744],function(){return e(e.s=613)}),_N_E=e.O()}]);