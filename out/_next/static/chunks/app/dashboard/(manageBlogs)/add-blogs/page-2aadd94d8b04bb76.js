(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1309],{4485:function(e,t,s){var a={"./ckb.js":7087,"./cs.js":6779,"./da.js":4305,"./de.js":8342,"./en.js":9451,"./es.js":8359,"./fa.js":8987,"./fr.js":5268,"./he.js":3452,"./index.js":7462,"./it.js":5544,"./ja.js":8006,"./ko.js":6363,"./lv.js":1651,"./nl.js":8190,"./pl.js":8315,"./pt_br.js":2733,"./ro.js":35,"./ru.js":4138,"./se.js":4495,"./tr.js":791,"./ua.js":2468,"./ur.js":2360,"./zh_cn.js":3035};function o(e){return s(r(e))}function r(e){if(!s.o(a,e)){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=r,e.exports=o,o.id=4485},677:function(e,t,s){Promise.resolve().then(s.bind(s,7044))},7044:function(e,t,s){"use strict";var a=s(7437),o=s(2265),r=s(7348),n=s.n(r);s(2455);var l=s(9966),i=s(6463);t.default=()=>{let{isLoading:e,error:t,blogs:s,refetchBlogs:r}=(0,l.ZP)(),c=(0,i.useRouter)(),[u,d]=(0,o.useState)(""),[p,m]=(0,o.useState)(""),[g,h]=(0,o.useState)([]),[b,f]=(0,o.useState)([]),[j,v]=(0,o.useState)(null),[y,x]=(0,o.useState)(""),S=async e=>{e.preventDefault();let t=new FormData;if(!y||!p||!u||!g||!b||!j){alert("Please fill all the fields");return}t.append("title",y),t.append("seoDescriptions",p),t.append("content",u),t.append("category",g),t.append("tags",JSON.stringify(b)),j&&t.append("image",j);try{let e=localStorage.getItem("token"),s=await fetch("".concat("https://jmc-tours-backend.bdcare.vip","/api/v1/blogs"),{method:"POST",headers:{authorization:"Bearer ".concat(e)},body:t}),a=await s.json();console.log(a),a.success&&(r(),c.replace("/dashboard/all-blogs"))}catch(e){console.error("Error submitting blog:",e)}};return(0,a.jsx)("div",{className:"",children:(0,a.jsxs)("form",{onSubmit:S,children:[(0,a.jsxs)("div",{className:"blogFields",children:[(0,a.jsx)("input",{type:"text",placeholder:"Blog Title",value:y,onChange:e=>x(e.target.value),className:"outline-none border my-2 p-3 w-full"}),(0,a.jsxs)("div",{className:"border p-2  my-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),(0,a.jsxs)("select",{onChange:e=>h(e.target.value),name:"category",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:text-sm",children:[(0,a.jsx)("option",{selected:!0,value:"",disabled:!0,children:"Select a category"}),["Adventure","Beach","Culture","Historical","Nature","Wildlife","Uncategorized"].map((e,t)=>(0,a.jsx)("option",{value:e,children:e},t))]})]}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{v(e.target.files[0])},className:"border p-2 w-full  mt-2 mb-8"}),(0,a.jsx)(n(),{autoFocus:!0,placeholder:"Enter the content",width:"100%",height:"500",defaultValue:"",onChange:e=>{console.log(e),d(e)},onImageUpload:(e,t,s,a)=>{},setDefaultStyle:"color:black;",setOptions:{font:["Arial","Comic Sans MS","Courier New","Impact","Georgia","Tahoma","Trebuchet MS","Verdana","Logical","Salesforce Sans","Garamond","Sans-Serif","Serif","Times New Roman","Helvetica"],fontSize:[8,10,12,14,16,18,20,22,24,26,28,30,32,36,42,55,60],popupDisplay:"local",buttonList:[["undo","redo"],["font","fontSize","formatBlock"],["textStyle","fontColor","hiliteColor","horizontalRule"],["bold","underline","italic","strike"],["subscript","superscript","removeFormat","blockquote"],["list","align","table","image","preview","video","audio"]]}})]}),(0,a.jsxs)("div",{className:"my-2",children:[(0,a.jsxs)("div",{className:"seoFields grid grid-cols-1 gap-4 my-8",children:[(0,a.jsx)("input",{type:"text",onChange:e=>f(e.target.value.split(",")),className:"border p-2",placeholder:"use comma(,) for tags"}),(0,a.jsx)("textarea",{onChange:e=>m(e.target.value),className:"border p-2 min-h-44",placeholder:"seo descriptions"})]}),(0,a.jsx)("button",{type:"submit",className:"border p-3 bg-black text-white w-full",children:"Submit Blog"})]})]})})}},9966:function(e,t,s){"use strict";s.d(t,{F$:function(){return r}});var a=s(3191),o=s(5355);async function r(e){try{let t="".concat("https://jmc-tours-backend.bdcare.vip","/api/v1/blogs/").concat(e);console.log("delete blog by id",e,t);let s=await fetch(t,{method:"DELETE",headers:{"Content-Type":"application/json"}});return console.log("deleteBlogs frontend response",s),{status:s.status}}catch(e){return console.error("Error:",e.message),{status:404}}}t.ZP=e=>{let t=(0,a.NL)(),{isLoading:s,error:r,data:n}=(0,o.a)({queryKey:["blogs",e],queryFn:async()=>{let t=e?"".concat("https://jmc-tours-backend.bdcare.vip","/api/v1/blogs/categories/").concat(e):"".concat("https://jmc-tours-backend.bdcare.vip","/api/v1/blogs"),s=await fetch(t);if(!s.ok)throw Error("Network response was not ok");return s.json()},staleTime:3e5,enabled:!!e||void 0===e}),{blogs:l,success:i}=n||{};return{isLoading:s,error:r,blogs:l,success:i,refetchBlogs:()=>{t.invalidateQueries(["blogs"])}}}}},function(e){e.O(0,[8078,738,1336,5355,8275,2971,7023,1744],function(){return e(e.s=677)}),_N_E=e.O()}]);